{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_pg19",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "PG-19 (parquet)",
    "pg19_path": "/mnt/disk1/ljm/LLM-Efficient-Reasoning/data/pg19.parquet",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 1000
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 114.81553740205774,
      "speedup": 1.0,
      "ttft_ms": 21.837416104972363,
      "ttft_std": 8.67253458428212,
      "tpot_ms": 8.997753640202184,
      "tpot_std": 1.6876710711393201,
      "total_time_ms": 13518.46787640825,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6156.48779296875,
      "throughput_std": 20.644051432100753,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 144.94402892544286,
      "speedup": 1.262407790836549,
      "ttft_ms": 11.101285833865404,
      "ttft_std": 3.2933226712138985,
      "tpot_ms": 7.169815381305914,
      "tpot_std": 1.4153448336693792,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.5592705167173255,
      "acceptance_rate": 0.9254223143374996,
      "avg_path_length": 4.627111571687498,
      "total_rounds": 329,
      "high_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6363.02099609375,
      "throughput_std": 28.6118033128097,
      "acceptance_std": 0.11310201727273851,
      "path_length_std": 0.5655100863636925
    },
    {
      "method": "Tree Spec Decode (D=8, B=3, T=0.1)",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 8,
        "branch_factor": 3,
        "probability_threshold": 0.1,
        "max_tree_nodes": 256
      },
      "throughput_tps": 185.54339232044788,
      "speedup": 1.6160129240236656,
      "ttft_ms": 9.685990028083324,
      "ttft_std": 0.40772660277232786,
      "tpot_ms": 5.5484315748016035,
      "tpot_std": 0.9491141685887334,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.198347107438017,
      "acceptance_rate": 0.6428159568500844,
      "avg_path_length": 6.428159568500843,
      "total_rounds": 242,
      "high_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6354.55322265625,
      "throughput_std": 33.15242449605248,
      "acceptance_std": 0.1353271431925777,
      "path_length_std": 1.353271431925777
    },
    {
      "method": "Adaptive Tree (Phase 3)",
      "config": {
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 9,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 194.94143275619095,
      "speedup": 1.6978663094486128,
      "ttft_ms": 9.584943298250437,
      "ttft_std": 0.5724522543528763,
      "tpot_ms": 5.303401801797252,
      "tpot_std": 1.0202851505689463,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.172839506172839,
      "acceptance_rate": 0.9221376903197391,
      "avg_path_length": 6.454963832238174,
      "total_rounds": 243,
      "high_conf_ratio": 0.7663990490977799,
      "early_stops": 550,
      "deep_expansions": 230,
      "total_adjustments": 8,
      "peak_memory_mb": 6355.017578125,
      "throughput_std": 35.610289118226035,
      "acceptance_std": 0.20296040302664126,
      "path_length_std": 1.4207228211864886
    }
  ],
  "timestamp": "2026-01-06T12:19:53.464397"
}