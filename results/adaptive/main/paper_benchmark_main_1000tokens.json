{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000
      },
      "throughput_tps": 131.13505755653242,
      "speedup": 1.0,
      "ttft_ms": 18.947844952344894,
      "ttft_std": 6.070507394091663,
      "tpot_ms": 7.6068663851358,
      "tpot_std": 0.023089715318461945,
      "total_time_ms": 7625.8142300881445,
      "total_tokens_generated": 1000,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1000,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5962.412109375,
      "throughput_std": 0.44626336159037006,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 181.29244973296994,
      "speedup": 1.3824865227577654,
      "ttft_ms": 12.709329836070538,
      "ttft_std": 2.6808935129976184,
      "tpot_ms": 5.529039059393108,
      "tpot_std": 0.3807116517192507,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 5.649717514124294,
      "acceptance_rate": 0.8076971979588142,
      "avg_path_length": 5.6538803857117,
      "total_rounds": 177,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6108.4208984375,
      "throughput_std": 12.344041734132587,
      "acceptance_std": 0.05889819747798692,
      "path_length_std": 0.41228738234590856
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 176.73521691768747,
      "speedup": 1.3477343146129843,
      "ttft_ms": 13.876775838434696,
      "ttft_std": 5.375256298549119,
      "tpot_ms": 5.97954192198813,
      "tpot_std": 1.711053830254136,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 5.347593582887701,
      "acceptance_rate": 0.7791429467396951,
      "avg_path_length": 5.454000627177867,
      "total_rounds": 187,
      "high_conf_ratio": 0.7043874932676544,
      "medium_conf_ratio": 0.19740497738286714,
      "low_conf_ratio": 0.09820752934947852,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6106.54296875,
      "throughput_std": 36.1972385377645,
      "acceptance_std": 0.11823282500162614,
      "path_length_std": 0.8276297750113829
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 205.95522966133657,
      "speedup": 1.570558121519481,
      "ttft_ms": 12.534100096672773,
      "ttft_std": 2.679924684627571,
      "tpot_ms": 4.9530562933534386,
      "tpot_std": 0.7738402549714861,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 6.0606060606060606,
      "acceptance_rate": 0.8962979901828119,
      "avg_path_length": 6.274085931279684,
      "total_rounds": 165,
      "high_conf_ratio": 0.7225325503865387,
      "medium_conf_ratio": 0.1757334762046633,
      "low_conf_ratio": 0.10173397340879797,
      "early_stops": 319,
      "deep_expansions": 229,
      "total_adjustments": 0,
      "peak_memory_mb": 6107.61669921875,
      "throughput_std": 29.811837762333408,
      "acceptance_std": 0.17077073147934815,
      "path_length_std": 1.1953951203554372
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 210.76164846142237,
      "speedup": 1.6072105536733599,
      "ttft_ms": 12.58653374388814,
      "ttft_std": 2.678115443258327,
      "tpot_ms": 4.810452972911298,
      "tpot_std": 0.6304184624154022,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 6.4935064935064934,
      "acceptance_rate": 0.9474552646622753,
      "avg_path_length": 6.632186852635928,
      "total_rounds": 154,
      "high_conf_ratio": 0.8155931278081224,
      "medium_conf_ratio": 0.09594135290417427,
      "low_conf_ratio": 0.08846551928770334,
      "early_stops": 251,
      "deep_expansions": 149,
      "total_adjustments": 8,
      "peak_memory_mb": 6105.08447265625,
      "throughput_std": 26.494227559155185,
      "acceptance_std": 0.14286998615733207,
      "path_length_std": 1.0000899031013246
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "131.1±0.4",
          "speedup": "1.00x",
          "ttft": "18.9±6.1",
          "tpot": "7.61±0.02",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "181.3±12.3",
          "speedup": "1.38x",
          "ttft": "12.7±2.7",
          "tpot": "5.53±0.38",
          "accept_rate": "80.8%",
          "path_length": "5.65"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "176.7±36.2",
          "speedup": "1.35x",
          "ttft": "13.9±5.4",
          "tpot": "5.98±1.71",
          "accept_rate": "77.9%",
          "path_length": "5.45"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "206.0±29.8",
          "speedup": "1.57x",
          "ttft": "12.5±2.7",
          "tpot": "4.95±0.77",
          "accept_rate": "89.6%",
          "path_length": "6.27"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "210.8±26.5",
          "speedup": "1.61x",
          "ttft": "12.6±2.7",
          "tpot": "4.81±0.63",
          "accept_rate": "94.7%",
          "path_length": "6.63"
        }
      ]
    }
  },
  "timestamp": "2026-01-04T17:00:58.698129"
}