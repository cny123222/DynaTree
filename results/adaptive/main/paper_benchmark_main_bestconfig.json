{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 500
      },
      "throughput_tps": 117.23359369704747,
      "speedup": 1.0,
      "ttft_ms": 27.87796836346388,
      "ttft_std": 20.137678068775482,
      "tpot_ms": 8.566276891902088,
      "tpot_std": 0.984012925980583,
      "total_time_ms": 4311.016414314508,
      "total_tokens_generated": 500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5798.40234375,
      "throughput_std": 10.986423314219874,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 149.148288362973,
      "speedup": 1.272231650156514,
      "ttft_ms": 13.586656004190445,
      "ttft_std": 2.510544677636646,
      "tpot_ms": 6.74306301176548,
      "tpot_std": 0.6674389605312457,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 5.1020408163265305,
      "acceptance_rate": 0.7380099288546942,
      "avg_path_length": 5.166069501982859,
      "total_rounds": 98,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5890.0791015625,
      "throughput_std": 14.654466705920647,
      "acceptance_std": 0.10046624776312355,
      "path_length_std": 0.703263734341865
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 155.25617614311645,
      "speedup": 1.3243317998450694,
      "ttft_ms": 14.792500715702772,
      "ttft_std": 7.233143698418641,
      "tpot_ms": 6.668488374352455,
      "tpot_std": 1.3469125978992322,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 4.672897196261682,
      "acceptance_rate": 0.6947618453956579,
      "avg_path_length": 4.863332917769606,
      "total_rounds": 107,
      "high_conf_ratio": 0.5651873346198514,
      "medium_conf_ratio": 0.2690467145698581,
      "low_conf_ratio": 0.1657659508102905,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5891.0986328125,
      "throughput_std": 30.282343665329982,
      "acceptance_std": 0.14001620121178657,
      "path_length_std": 0.9801134084825059
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 175.27650316550236,
      "speedup": 1.4951047531516277,
      "ttft_ms": 12.580566108226776,
      "ttft_std": 2.2784727128014426,
      "tpot_ms": 5.8229849575087425,
      "tpot_std": 0.900617544643725,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 5.154639175257732,
      "acceptance_rate": 0.7676151258320159,
      "avg_path_length": 5.373305880824112,
      "total_rounds": 97,
      "high_conf_ratio": 0.6104038556199793,
      "medium_conf_ratio": 0.23671305465574627,
      "low_conf_ratio": 0.1528830897242744,
      "early_stops": 246,
      "deep_expansions": 92,
      "total_adjustments": 0,
      "peak_memory_mb": 5889.38037109375,
      "throughput_std": 28.566492949906646,
      "acceptance_std": 0.17541546194372049,
      "path_length_std": 1.2279082336060436
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 160.87262500098353,
      "speedup": 1.3722399862338701,
      "ttft_ms": 15.098866261541843,
      "ttft_std": 5.3595337626043715,
      "tpot_ms": 6.758166163042188,
      "tpot_std": 2.113527235398645,
      "total_time_ms": 0.0,
      "total_tokens_generated": 500,
      "tokens_per_round": 5.376344086021505,
      "acceptance_rate": 0.7984234850821396,
      "avg_path_length": 5.588964395574976,
      "total_rounds": 93,
      "high_conf_ratio": 0.7101913427087686,
      "medium_conf_ratio": 0.14571537973704635,
      "low_conf_ratio": 0.14409327755418505,
      "early_stops": 220,
      "deep_expansions": 60,
      "total_adjustments": 8,
      "peak_memory_mb": 5891.10693359375,
      "throughput_std": 44.954512886208484,
      "acceptance_std": 0.17328229311883997,
      "path_length_std": 1.21297605183188
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "117.2±11.0",
          "speedup": "1.00x",
          "ttft": "27.9±20.1",
          "tpot": "8.57±0.98",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "149.1±14.7",
          "speedup": "1.27x",
          "ttft": "13.6±2.5",
          "tpot": "6.74±0.67",
          "accept_rate": "73.8%",
          "path_length": "5.17"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "155.3±30.3",
          "speedup": "1.32x",
          "ttft": "14.8±7.2",
          "tpot": "6.67±1.35",
          "accept_rate": "69.5%",
          "path_length": "4.86"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "175.3±28.6",
          "speedup": "1.50x",
          "ttft": "12.6±2.3",
          "tpot": "5.82±0.90",
          "accept_rate": "76.8%",
          "path_length": "5.37"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "160.9±45.0",
          "speedup": "1.37x",
          "ttft": "15.1±5.4",
          "tpot": "6.76±2.11",
          "accept_rate": "79.8%",
          "path_length": "5.59"
        }
      ]
    }
  },
  "timestamp": "2026-01-04T16:48:24.755560"
}