{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500
      },
      "throughput_tps": 135.2375141611869,
      "speedup": 1.0,
      "ttft_ms": 23.208756186068058,
      "ttft_std": 14.78589068921009,
      "tpot_ms": 7.3790860505774605,
      "tpot_std": 0.03190819345591808,
      "total_time_ms": 11091.83783205226,
      "total_tokens_generated": 1500,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1500,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6110.0478515625,
      "throughput_std": 0.6299171623711762,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "K": 5
      },
      "throughput_tps": 163.1690421963117,
      "speedup": 1.2065368341644742,
      "ttft_ms": 15.7317073084414,
      "ttft_std": 4.796846414601438,
      "tpot_ms": 6.28480315450579,
      "tpot_std": 1.0578496229297782,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 4.838709677419355,
      "acceptance_rate": 0.9766699358505975,
      "avg_path_length": 4.883349679252987,
      "total_rounds": 310,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6313.806640625,
      "throughput_std": 26.044632862771792,
      "acceptance_std": 0.09608676547124308,
      "path_length_std": 0.48043382735621554
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1500,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 188.6166610260091,
      "speedup": 1.3947066551460021,
      "ttft_ms": 14.900951739400625,
      "ttft_std": 3.856088520590661,
      "tpot_ms": 5.337069955840707,
      "tpot_std": 0.5140529496749828,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.747126436781609,
      "acceptance_rate": 0.825941627645741,
      "avg_path_length": 5.781591393520188,
      "total_rounds": 261,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6312.76025390625,
      "throughput_std": 16.720602757869884,
      "acceptance_std": 0.07393047962268853,
      "path_length_std": 0.5175133573588199
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 187.3465259933694,
      "speedup": 1.3853147712407283,
      "ttft_ms": 14.930849056690931,
      "ttft_std": 3.9907994901757715,
      "tpot_ms": 5.429615696830054,
      "tpot_std": 0.7578151997720037,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 5.660377358490566,
      "acceptance_rate": 0.8192875510054638,
      "avg_path_length": 5.735012857038248,
      "total_rounds": 265,
      "high_conf_ratio": 0.7573316000482688,
      "medium_conf_ratio": 0.16871151850827767,
      "low_conf_ratio": 0.07395688144345354,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6312.9453125,
      "throughput_std": 25.362692416104295,
      "acceptance_std": 0.10373545549717485,
      "path_length_std": 0.7261481884802239
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 213.6664197671079,
      "speedup": 1.579934540296586,
      "ttft_ms": 14.772528875619173,
      "ttft_std": 4.132304599502456,
      "tpot_ms": 4.742545115326842,
      "tpot_std": 0.5961562742706477,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 6.578947368421052,
      "acceptance_rate": 0.9657002675557885,
      "avg_path_length": 6.759901872890519,
      "total_rounds": 228,
      "high_conf_ratio": 0.7750191341053912,
      "medium_conf_ratio": 0.14873595553318367,
      "low_conf_ratio": 0.07624491036142514,
      "early_stops": 359,
      "deep_expansions": 378,
      "total_adjustments": 0,
      "peak_memory_mb": 6310.35302734375,
      "throughput_std": 25.996793525478527,
      "acceptance_std": 0.15608540089384387,
      "path_length_std": 1.0925978062569073
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1500,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 218.07904061606686,
      "speedup": 1.6125632149385916,
      "ttft_ms": 19.352271035313606,
      "ttft_std": 16.249276488461675,
      "tpot_ms": 4.617433133286734,
      "tpot_std": 0.45567818855552805,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1500,
      "tokens_per_round": 7.0754716981132075,
      "acceptance_rate": 1.0217663066942029,
      "avg_path_length": 7.152364146859421,
      "total_rounds": 212,
      "high_conf_ratio": 0.8566188679398692,
      "medium_conf_ratio": 0.07732636430527094,
      "low_conf_ratio": 0.06605476775485983,
      "early_stops": 273,
      "deep_expansions": 239,
      "total_adjustments": 8,
      "peak_memory_mb": 6316.0927734375,
      "throughput_std": 21.612232552886287,
      "acceptance_std": 0.11998937420487714,
      "path_length_std": 0.8399256194341401
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "135.2±0.6",
          "speedup": "1.00x",
          "ttft": "23.2±14.8",
          "tpot": "7.38±0.03",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "163.2±26.0",
          "speedup": "1.21x",
          "ttft": "15.7±4.8",
          "tpot": "6.28±1.06",
          "accept_rate": "97.7%",
          "path_length": "4.88"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "188.6±16.7",
          "speedup": "1.39x",
          "ttft": "14.9±3.9",
          "tpot": "5.34±0.51",
          "accept_rate": "82.6%",
          "path_length": "5.78"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "187.3±25.4",
          "speedup": "1.39x",
          "ttft": "14.9±4.0",
          "tpot": "5.43±0.76",
          "accept_rate": "81.9%",
          "path_length": "5.74"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "213.7±26.0",
          "speedup": "1.58x",
          "ttft": "14.8±4.1",
          "tpot": "4.74±0.60",
          "accept_rate": "96.6%",
          "path_length": "6.76"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "218.1±21.6",
          "speedup": "1.61x",
          "ttft": "19.4±16.2",
          "tpot": "4.62±0.46",
          "accept_rate": "102.2%",
          "path_length": "7.15"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T08:42:05.068139"
}