{
  "experiment_info": {
    "study": "adaptive_tree_speculative_decoding_paper",
    "target_model": "/mnt/disk1/models/pythia-2.8b",
    "draft_model": "/mnt/disk1/models/pythia-70m",
    "dataset": "WikiText-2 (ModelScope)",
    "num_samples": 10,
    "warmup_runs": 2,
    "max_prompt_length": 800
  },
  "all_results": [
    {
      "method": "Baseline (AR)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000
      },
      "throughput_tps": 135.63618225458907,
      "speedup": 1.0,
      "ttft_ms": 18.76451186835766,
      "ttft_std": 5.997695044002967,
      "tpot_ms": 7.354168565012515,
      "tpot_std": 0.039455489804600626,
      "total_time_ms": 7372.933076880872,
      "total_tokens_generated": 1000,
      "tokens_per_round": 1.0,
      "acceptance_rate": 0.0,
      "avg_path_length": 0.0,
      "total_rounds": 1000,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 5962.412109375,
      "throughput_std": 0.8192903846771623,
      "acceptance_std": 0.0,
      "path_length_std": 0.0
    },
    {
      "method": "Linear Spec (K=5)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000,
        "K": 5
      },
      "throughput_tps": 156.59136627863603,
      "speedup": 1.1544955311755538,
      "ttft_ms": 14.652002789080143,
      "ttft_std": 5.747106045960723,
      "tpot_ms": 6.484764409530908,
      "tpot_std": 0.8843266406726608,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 4.608294930875576,
      "acceptance_rate": 0.934910214598745,
      "avg_path_length": 4.674551072993726,
      "total_rounds": 217,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6104.31689453125,
      "throughput_std": 20.17032981338707,
      "acceptance_std": 0.11646185553519339,
      "path_length_std": 0.582309277675967
    },
    {
      "method": "Fixed Tree (D=5, B=2)",
      "experiment": "main",
      "config": {
        "max_new_tokens": 1000,
        "tree_depth": 5,
        "branch_factor": 2,
        "max_tree_nodes": 256
      },
      "throughput_tps": 191.90082552333655,
      "speedup": 1.4148203107275517,
      "ttft_ms": 12.57220283150673,
      "ttft_std": 2.717424417272698,
      "tpot_ms": 5.22529795980081,
      "tpot_std": 0.37036104894664085,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 5.649717514124294,
      "acceptance_rate": 0.8076971979588142,
      "avg_path_length": 5.6538803857117,
      "total_rounds": 177,
      "high_conf_ratio": 0.0,
      "medium_conf_ratio": 0.0,
      "low_conf_ratio": 0.0,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6106.43017578125,
      "throughput_std": 13.987563140787524,
      "acceptance_std": 0.05889819747798692,
      "path_length_std": 0.41228738234590856
    },
    {
      "method": "Phase 1: Adaptive Branch",
      "experiment": "main",
      "config": {
        "phase": 1,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 184.4130491615701,
      "speedup": 1.3596154513950183,
      "ttft_ms": 14.417675882577896,
      "ttft_std": 6.8413786478121965,
      "tpot_ms": 5.530281084682793,
      "tpot_std": 0.8335786349649658,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 5.347593582887701,
      "acceptance_rate": 0.7791429467396951,
      "avg_path_length": 5.454000627177867,
      "total_rounds": 187,
      "high_conf_ratio": 0.7043874932676544,
      "medium_conf_ratio": 0.19740497738286714,
      "low_conf_ratio": 0.09820752934947852,
      "early_stops": 0,
      "deep_expansions": 0,
      "total_adjustments": 0,
      "peak_memory_mb": 6106.26171875,
      "throughput_std": 27.287886376636287,
      "acceptance_std": 0.11823282500162614,
      "path_length_std": 0.8276297750113829
    },
    {
      "method": "Phase 2: + Dynamic Depth",
      "experiment": "main",
      "config": {
        "phase": 2,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 199.1008559550283,
      "speedup": 1.4679037159960464,
      "ttft_ms": 13.226006459444761,
      "ttft_std": 3.925839345893809,
      "tpot_ms": 5.411522913351655,
      "tpot_std": 1.7396204473686736,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 6.0606060606060606,
      "acceptance_rate": 0.8962979901828119,
      "avg_path_length": 6.274085931279684,
      "total_rounds": 165,
      "high_conf_ratio": 0.7225325503865387,
      "medium_conf_ratio": 0.1757334762046633,
      "low_conf_ratio": 0.10173397340879797,
      "early_stops": 319,
      "deep_expansions": 229,
      "total_adjustments": 0,
      "peak_memory_mb": 6106.79638671875,
      "throughput_std": 46.98830607377982,
      "acceptance_std": 0.17077073147934815,
      "path_length_std": 1.1953951203554372
    },
    {
      "method": "Phase 3: + History Adjust",
      "experiment": "main",
      "config": {
        "phase": 3,
        "max_new_tokens": 1000,
        "base_depth": 5,
        "max_depth": 8,
        "high_conf_threshold": 0.9,
        "low_conf_threshold": 0.4,
        "min_branch": 1,
        "max_branch": 3
      },
      "throughput_tps": 198.68875631077182,
      "speedup": 1.464865443778365,
      "ttft_ms": 13.819213956594467,
      "ttft_std": 3.605799807231659,
      "tpot_ms": 5.304167664237321,
      "tpot_std": 1.387214426342234,
      "total_time_ms": 0.0,
      "total_tokens_generated": 1000,
      "tokens_per_round": 6.4935064935064934,
      "acceptance_rate": 0.9474552646622753,
      "avg_path_length": 6.632186852635928,
      "total_rounds": 154,
      "high_conf_ratio": 0.8155931278081224,
      "medium_conf_ratio": 0.09594135290417427,
      "low_conf_ratio": 0.08846551928770334,
      "early_stops": 251,
      "deep_expansions": 149,
      "total_adjustments": 8,
      "peak_memory_mb": 6105.3818359375,
      "throughput_std": 42.23545746451604,
      "acceptance_std": 0.14286998615733207,
      "path_length_std": 1.0000899031013246
    }
  ],
  "paper_tables": {
    "main_comparison": {
      "title": "Main Comparison Results",
      "headers": [
        "Method",
        "Throughput (t/s)",
        "Speedup",
        "TTFT (ms)",
        "TPOT (ms)",
        "Accept Rate",
        "Avg Path Len"
      ],
      "rows": [
        {
          "method": "Baseline (AR)",
          "throughput": "135.6±0.8",
          "speedup": "1.00x",
          "ttft": "18.8±6.0",
          "tpot": "7.35±0.04",
          "accept_rate": "N/A",
          "path_length": "N/A"
        },
        {
          "method": "Linear Spec (K=5)",
          "throughput": "156.6±20.2",
          "speedup": "1.15x",
          "ttft": "14.7±5.7",
          "tpot": "6.48±0.88",
          "accept_rate": "93.5%",
          "path_length": "4.67"
        },
        {
          "method": "Fixed Tree (D=5, B=2)",
          "throughput": "191.9±14.0",
          "speedup": "1.41x",
          "ttft": "12.6±2.7",
          "tpot": "5.23±0.37",
          "accept_rate": "80.8%",
          "path_length": "5.65"
        },
        {
          "method": "Phase 1: Adaptive Branch",
          "throughput": "184.4±27.3",
          "speedup": "1.36x",
          "ttft": "14.4±6.8",
          "tpot": "5.53±0.83",
          "accept_rate": "77.9%",
          "path_length": "5.45"
        },
        {
          "method": "Phase 2: + Dynamic Depth",
          "throughput": "199.1±47.0",
          "speedup": "1.47x",
          "ttft": "13.2±3.9",
          "tpot": "5.41±1.74",
          "accept_rate": "89.6%",
          "path_length": "6.27"
        },
        {
          "method": "Phase 3: + History Adjust",
          "throughput": "198.7±42.2",
          "speedup": "1.46x",
          "ttft": "13.8±3.6",
          "tpot": "5.30±1.39",
          "accept_rate": "94.7%",
          "path_length": "6.63"
        }
      ]
    }
  },
  "timestamp": "2026-01-05T08:25:03.603629"
}